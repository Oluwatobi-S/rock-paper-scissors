<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <h1>The Rock Paper Scissors Game</h1>

        <script>
            let i;
            let winOrLose;
            let myScore = 0;
            let compScore = 0;
            let playerSelection;
            let computerSelection;

            function startGame(){
                pickItem();

                console.log (
                    `
                    ||*****Total Score*****||
                    =========================
                    Player: ${myScore} vs. Computer: ${compScore}
                    `
                );

                gameRecap();
            }

            startGame();

            function pickItem() {
                for (i = 0; i < 5; i++) {
                    const playerSelection = 
                    prompt("Rock, Paper, or Scissors? What's your choice?").toLowerCase();
                    console.log(`My Selection is: ${playerSelection}`);

                    computerSelection = computerPicks();
                    console.log(`Computer's Selection is: ${computerSelection}`);

                    winOrLose = theWinnerIs(playerSelection, computerSelection);

                    scoreCalc();
                }
            }

            function computerPicks() {
                const gameItems = ['rock', 'paper', 'scissors'];
                const itemChoice = Math.floor(Math.random()*gameItems.length);
                return gameItems[itemChoice];
            }

            function theWinnerIs(pSelection, cSelection) {
                if (pSelection === 'rock' && cSelection === 'scissors') {
                    return 'You Win!';
                } else if (pSelection === 'scissors' && cSelection === 'rock') {
                    return 'You Lose! Rock crushes Scissors';
                } else if (pSelection === 'rock' && cSelection === 'paper') {
                    return 'You Lose! Paper covers Rock';
                } else if (pSelection === 'paper' && cSelection === 'rock') {
                    return 'You Win!';
                } else if (pSelection === 'paper' && cSelection === 'scissors') {
                    return 'You Lose! Scissors cuts Paper';
                } else if (pSelection === 'scissors' && cSelection === 'paper') {
                    return 'You Win!';
                } else if (pSelection === 'rock' && cSelection === 'rock') {
                    return "It's a tie!";
                } else if (pSelection === 'scissors' && cSelection === 'scissors') {
                    return "It's a tie!";
                } else if (pSelection === 'paper' && cSelection === 'paper') {
                    return "It's a tie!";
                } else {
                    return ("Oops! That's a wrong choice!" + 
                    "\nChoose either Rock, Paper, or Scissors" + 
                    "\nAll the best!");
                }
            }

            function scoreCalc() {
                if (winOrLose === 'You Win!') {
                    console.log(winOrLose);
                    console.log("***========================***");
                    ++myScore;
                } else if (winOrLose === "It's a tie!") {
                    console.log(winOrLose);
                    console.log("***========================***");
                } else {
                    console.log(winOrLose);
                    console.log("***========================***");
                    ++compScore;
                }
            }

            function gameRecap() {
                if (myScore > compScore) {
                    console.log ("Congratulations!!! You won the game!");
                    console.log("***========================***");
                }else if (myScore === compScore) {
                    console.log ("That's a Draw!");
                    console.log("***========================***");
                } else {
                    console.log ("Game Lost. Try again.");
                    console.log("***========================***");
                }
            }
        </script>
    </body>
</html>